/*! Lity - LiquidThemes Modification - v3.0.0-dev - 2020-11-02
 * http://sorgalla.com/lity/
 * Copyright (c) 2015-2020 Jan Sorgalla; Licensed MIT */
!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],(function($){return t(e,$)})):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(e,require("jquery")):e.lity=t(e,e.jQuery||e.Zepto)}("undefined"!=typeof window?window:this,(function(e,$){"use strict";function t(e){var t=C();return z&&e.length?(e.one(z,t.resolve),setTimeout(t.resolve,500)):t.resolve(),t.promise()}function n(e,t,n){if(1===arguments.length)return $.extend({},e);if("string"==typeof t){if(void 0===n)return void 0===e[t]?null:e[t];e[t]=n}else $.extend(e,t);return this}function i(e){var t=e.indexOf("?");t>-1&&(e=e.substr(t+1));for(var n=decodeURI(e.split("#")[0]).split("&"),i={},r,o=0,a=n.length;o<a;o++)n[o]&&(i[(r=n[o].split("="))[0]]=r[1]);return i}function r(e,t){if(!t)return e;if("string"===$.type(t)&&(t=i(t)),e.indexOf("?")>-1){var n=e.split("?");e=n.shift(),t=$.extend({},i(n[0]),t)}return e+"?"+$.param(t)}function o(e,t){var n=e.indexOf("#");return-1===n?t:(n>0&&(e=e.substr(n)),t+e)}function a(e,t,n,i){return t&&t.element().addClass("lity-iframe"),n&&(e=r(e,n)),i&&(e=o(i,e)),'<div class="lity-iframe-container"><iframe frameborder="0" allowfullscreen allow="autoplay; fullscreen" src="'+e+'"/></div>'}function l(e){return $('<span class="lity-error"></span>').append(e)}function s(e,t){var n=t.opener()&&t.opener().data("lity-desc")||"Image with no description",i=$('<img src="'+e+'" alt="'+n+'"/>'),r=C(),o=function(){r.reject(l("Failed loading image"))};return i.on("load",(function(){if(0===this.naturalWidth)return o();r.resolve(i)})).on("error",o),r.promise()}function d(e,t){var n,i,r;try{n=$(e)}catch(e){return!1}return!!n.length&&(i=$('<i style="display:none !important"></i>'),r=n.hasClass("lity-hide"),t.element().one("lity:remove",(function(){i.before(n).remove(),r&&!n.closest(".lity-content").length&&n.addClass("lity-hide")})),n.removeClass("lity-hide").after(i))}function c(e,t){return a(e,t)}function u(){return b.documentElement.clientHeight?b.documentElement.clientHeight:Math.round(w.height())}function f(e){var t=m();t&&(27===e.keyCode&&t.options("esc")&&t.close(),9===e.keyCode&&y(e,t))}function y(e,t){var n=t.element().find(k),i=n.index(b.activeElement);e.shiftKey&&i<=0?(n.get(n.length-1).focus(),e.preventDefault()):e.shiftKey||i!==n.length-1||(n.get(0).focus(),e.preventDefault())}function p(){$.each(j,(function(e,t){t.resize()}))}function h(e){1===j.unshift(e)&&(E.addClass("lity-active"),w.on({resize:p,keydown:f}))}function m(){return 0===j.length?null:j[0]}function v(e,t,n,i){var r="inline",o,a=$.extend({},n);return i&&a[i]?(o=a[i](e,t),r=i):($.each(["inline","iframe"],(function(e,t){delete a[t],a[t]=n[t]})),$.each(a,(function(n,i){return!i||(!(!i.test||i.test(e,t))||(!1!==(o=i(e,t))?(r=n,!1):void 0))}))),{handler:r,content:o||""}}function g(e,i,r,o){function a(e){y=$(e).css("max-height",u()+"px"),f.find(".lity-loader").each((function(){var e=$(this);t(e).always((function(){e.remove()}))})),f.removeClass("lity-loading").find(".lity-content").empty().append(y),d=!0,y.trigger("lity:ready",[l])}var l=this,s,d=!1,c=!1,f,y;i=$.extend({},D,i),f=$(i.template),l.element=function(){return f},l.opener=function(){return r},l.content=function(){return y},l.options=$.proxy(n,l,i),l.handlers=$.proxy(n,l,i.handlers),l.resize=function(){d&&!c&&y.css("max-height",u()+"px").trigger("lity:resize",[l])},l.close=function(){if(d&&!c){c=!0;var e=C();if(o&&(b.activeElement===f[0]||$.contains(f[0],b.activeElement)))try{o.focus()}catch(e){}return y.trigger("lity:close",[l]),f.removeClass("lity-opened lity-iframe").addClass("lity-closed"),t(y.add(f)).always((function(){y.trigger("lity:remove",[l]),f=void 0,e.resolve()})),e.promise()}},s=v(e,l,i.handlers,i.handler),f.addClass("lity-loading lity-opened lity-"+s.handler).removeClass("lity-closed").focus().on("click","[data-lity-close]",(function(e){$(e.target).is("[data-lity-close]")&&l.close()})).trigger("lity:open",[l]),h(l),$.when(s.content).always(a)}function x(e,t,n){e.preventDefault?(e.preventDefault(),e=(n=$(this)).data("lity-target")||n.attr("href")||n.attr("src")):n=$(n);var i=new g(e,$.extend({},n.data("lity-options")||n.data("lity"),t),n,b.activeElement);if(!e.preventDefault)return i}var b=e.document,w=$(e),C=$.Deferred,E=$("html"),j=[],k='a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,object,embed,[contenteditable],[tabindex]:not([tabindex^="-"])',D={esc:!0,handler:null,handlers:{image:s,inline:d,iframe:c},template:".lity"},T=/(^data:image\/)|(\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\?\S*)?$)/i,z=function(){var e=b.createElement("div"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return t[n];return!1}();return s.test=function(e){return T.test(e)},x.version="@VERSION",x.options=$.proxy(n,x,D),x.handlers=$.proxy(n,x,D.handlers),x.current=m,x.iframe=a,$(b).on("click.lity","[data-lity]",x),x}));